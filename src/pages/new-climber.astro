---
import BaseLayout from '../layouts/BaseLayout.astro';
import NewClimberSafetyAccordion from '../components/NewClimberSafetyAccordion.tsx';

const activitiesCards = [
  {
    buttonText: 'INTRO CLASS',
    buttonHref: 'https://portal.climbtheknot.com/gnv/services/intro-class',
    bgColor: 'var(--color-rust)',
    accentColor: 'var(--color-coral)',
  },
  {
    buttonText: 'PRIVATE BELAYER',
    buttonHref: 'https://portal.climbtheknot.com/gnv/services/private-belayer',
    bgColor: 'var(--color-manatee)',
    accentColor: 'var(--color-surf)',
  },
  {
    buttonText: 'SCHEDULE',
    buttonHref: 'https://portal.climbtheknot.com/gnv/calendar',
    bgColor: 'var(--color-limestone)',
    accentColor: 'var(--color-milkweed)',
  },
];
---

<BaseLayout title="New Climbers">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-video-background">
      <video
        autoplay
        muted
        loop
        playsinline
        class="hero-video"
      >
        <source src="/images/canva-final/newclimbers-hero.mp4" type="video/mp4" />
      </video>
      <div class="hero-video-overlay"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-headline">NEW CLIMBERS</h1>
    </div>
  </section>

  <!-- Welcome Section - Climbing Shoes Image -->
  <section class="orientation-section">
    <div class="orientation-video-container">
      <div class="orientation-video-box">
        <img
          src="/images/canva-final/newclimbers-shoes.jpg"
          alt="Climbing shoes - Hi, Welcome In!"
          class="orientation-image"
        />
      </div>
    </div>
  </section>

  <!-- Day Pass Pricing Section -->
  <section class="day-pass-section" id="day-passes">
    <div class="day-pass-content">
      <div class="day-pass-image">
        <div class="facility-photo">
          <img
            src="/images/canva-final/newclimbers-facility-staff.png"
            alt="Staff chatting at the facility"
            class="facility-image"
          />
        </div>
      </div>
      <div class="day-pass-info">
        <div class="price-display">
          <span class="price-amount">$25</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Activities 3-Card Section -->
  <section class="activities-section">
    <div class="activities-wrapper">
      <div class="activities-grid">
        {activitiesCards.map((card) => (
          <div class="activity-card">
            <div 
              class="activity-card__image"
              style={`background: linear-gradient(135deg, ${card.bgColor}, ${card.accentColor})`}
            >
              <svg
                viewBox="0 0 100 100"
                class="activity-card__placeholder-icon"
                aria-hidden="true"
              >
                <circle cx="50" cy="35" r="20" fill="rgba(255,255,255,0.3)" />
                <path d="M30 80 L50 50 L70 80 Z" fill="rgba(255,255,255,0.2)" />
              </svg>
            </div>
            <a 
              href={card.buttonHref} 
              class="activity-card__button"
              target="_blank"
              rel="noopener noreferrer"
            >
              {card.buttonText}
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Safety & Etiquette Accordions -->
  <section class="safety-section">
    <div class="safety-wrapper">
      <NewClimberSafetyAccordion client:visible />
    </div>
  </section>
</BaseLayout>

<style>
  .hero-section {
    position: relative;
    min-height: 500px;
    width: 100%;
    overflow: hidden;
  }

  .hero-video-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  .hero-video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .hero-video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(180, 60, 60, 0.5);
    z-index: 1;
  }

  .hero-content {
    position: absolute;
    left: 50%;
    bottom: 15%;
    transform: translateX(-50%);
    z-index: 2;
    text-align: center;
  }

  .hero-headline {
    font-family: var(--font-heading, 'Zing Rust', sans-serif);
    font-size: 72px;
    font-weight: 900;
    color: #fff;
    line-height: 1;
    margin: 0;
    text-transform: uppercase;
    letter-spacing: -2px;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
  }

  /* Welcome Orientation Section */
  .orientation-section {
    background-color: #fff;
    padding: 60px 48px;
  }

  .orientation-video-container {
    max-width: 800px;
    margin: 0 auto 0 auto;
    margin-left: auto;
    margin-right: 10%;
  }

  .orientation-video-box {
    position: relative;
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }

  .orientation-image {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  /* Day Pass Section */
  .day-pass-section {
    background-color: #fff;
    padding: 80px 48px;
  }

  .day-pass-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    gap: 80px;
    align-items: center;
  }

  .day-pass-image {
    flex: 1;
    min-width: 0;
  }

  .facility-photo {
    position: relative;
    width: 100%;
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }

  .facility-image {
    display: block;
    width: 100%;
    height: auto;
    object-fit: cover;
  }

  .day-pass-info {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .price-display {
    display: flex;
    align-items: flex-start;
  }

  .price-amount {
    font-family: var(--font-heading, 'Zing Rust', sans-serif);
    font-size: 140px;
    font-weight: 700;
    line-height: 1;
    color: var(--color-manatee, #84BABF);
  }

  /* Activities Section */
  .activities-section {
    background-color: #fff;
    padding: 40px 0 80px 0;
  }

  .activities-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 48px;
  }

  .activities-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
  }

  .activity-card {
    display: flex;
    flex-direction: column;
    border-radius: 8px;
    overflow: hidden;
    background-color: var(--color-graphite, #39393B);
  }

  .activity-card__image {
    aspect-ratio: 4/3;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .activity-card__placeholder-icon {
    width: 60%;
    height: 60%;
    opacity: 0.5;
  }

  .activity-card__button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px 24px;
    background-color: var(--color-manatee, #84BABF);
    color: #000;
    font-family: var(--font-heading, 'Uniform Pro', sans-serif);
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    text-decoration: none;
    letter-spacing: 1px;
    transition: opacity 0.2s ease;
  }

  .activity-card__button:hover {
    opacity: 0.9;
  }

  /* Safety Section */
  .safety-section {
    background-color: #000;
    padding: 0;
  }

  .safety-wrapper {
    max-width: 100%;
    margin: 0;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .hero-section {
      min-height: 400px;
    }

    .hero-content {
      left: 24px;
      right: 24px;
      transform: none;
      text-align: center;
      bottom: 10%;
    }

    .hero-headline {
      font-size: 42px;
    }

    .orientation-section {
      padding: 32px 24px;
    }

    .orientation-video-container {
      margin-right: auto;
    }

    .day-pass-section {
      padding: 48px 24px;
    }

    .day-pass-content {
      flex-direction: column;
      gap: 32px;
    }

    .day-pass-info {
      align-items: center;
      text-align: center;
    }

    .price-amount {
      font-size: 80px;
    }

    .activities-section {
      padding: 24px 0 48px 0;
    }

    .activities-wrapper {
      padding: 0 24px;
    }

    .activities-grid {
      grid-template-columns: 1fr;
      gap: 24px;
    }
  }
</style>
