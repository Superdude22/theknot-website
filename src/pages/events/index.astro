---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Accordion from '../../components/Accordion.tsx';

const events = [
  {
    id: 'event-1',
    title: 'EVENT 1',
    date: 'DATE',
    time: '6:00 PM - 9:00 PM',
    description: 'Join us for an exciting evening event at The Knot. Perfect for climbers of all skill levels looking to connect with the community.',
    address: '619 S Main St',
    hasRegistration: true,
    registrationUrl: 'https://portal.climbtheknot.com/gnv/events/event-1',
  },
  {
    id: 'event-2',
    title: 'EVENT 2',
    date: 'DATE',
    time: '2:00 PM - 6:00 PM',
    description: 'Info and stuff about event. What do the people need to know',
    address: '619 S Main St',
    hasRegistration: true,
    registrationUrl: 'https://portal.climbtheknot.com/gnv/events/event-2',
  },
  {
    id: 'event-3',
    title: 'EVENT 3',
    date: 'DATE',
    time: '10:00 AM - 4:00 PM',
    description: 'Youth climbing day with special programming for young climbers. Parents welcome to participate!',
    address: '619 S Main St',
    hasRegistration: false,
  },
  {
    id: 'event-4',
    title: 'EVENT 4',
    date: 'DATE',
    time: 'All Day',
    description: 'Our annual spring climbing competition featuring competitive and casual divisions. Register early for the best experience!',
    address: '619 S Main St',
    hasRegistration: true,
    registrationUrl: 'https://portal.climbtheknot.com/gnv/events/event-4',
  },
  {
    id: 'event-5',
    title: 'EVENT 5',
    date: 'DATE',
    time: '7:00 PM - 10:00 PM',
    description: 'Evening social climb with live music and refreshments. A great way to end your week!',
    address: '619 S Main St',
    hasRegistration: false,
  },
];

const accordionItems = [
  {
    title: 'BOULDERING ONLY',
    content: 'Bouldering is climbing without ropes on shorter walls (typically 10-15 feet) with thick crash pads below. It\'s a great way to start climbing as it requires no partner or equipment knowledge.',
  },
  {
    title: 'TOP ROPE + BOULDERING',
    content: 'Top rope climbing involves climbing with a rope that runs through an anchor at the top of the wall. A belayer manages the rope from below, catching falls and lowering the climber.',
  },
  {
    title: 'STAFF BELAY',
    content: 'Don\'t have a climbing partner or belay certification? No problem! Our staff belay service provides experienced belayers who can help you climb our top rope routes.',
  },
  {
    title: 'YOGA OR FITNESS CLASS',
    content: 'Complement your climbing training with our yoga and fitness classes designed specifically for climbers. Improve flexibility, core strength, and recovery.',
  },
  {
    title: 'BELAY CLASS',
    content: 'Learn to belay and open up the full potential of the gym! Our belay certification class teaches you the skills to safely manage the rope for a climbing partner.',
  },
  {
    title: 'KIDS POLICIES',
    content: 'Children under 14 must be accompanied by a supervising adult at all times. Youth climbers (14-17) may climb independently after completing an orientation.',
  },
];
---

<BaseLayout title="Events">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-background">
      <img
        src="/images/events/hero-design-slide.png"
        alt="Events hero background"
      />
    </div>
    <div class="hero-content">
      <h1 class="hero-headline">EVENTS</h1>
    </div>
    <div class="hero-video-placeholder">
      <div class="video-box">
        <span class="video-label">Video of gym tour</span>
      </div>
    </div>
  </section>

  <!-- Featured Event Section -->
  <section class="featured-section">
    <div class="featured-container">
      <div class="featured-main">
        <a
          href="https://portal.climbtheknot.com/gnv/events"
          target="_blank"
          rel="noopener noreferrer"
          class="featured-button"
        >
          REGISTRATION & MORE INFO
        </a>
      </div>
      <div class="featured-marketing">
        <div class="marketing-placeholder">
          <svg
            viewBox="0 0 300 200"
            preserveAspectRatio="xMidYMid slice"
            style="width: 100%; height: 100%;"
          >
            <defs>
              <linearGradient id="marketingSkyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#D6EEF5" />
                <stop offset="100%" stop-color="#87CEEB" />
              </linearGradient>
            </defs>
            <rect width="300" height="200" fill="url(#marketingSkyGrad)" />
            <ellipse cx="60" cy="35" rx="35" ry="20" fill="white" opacity="0.9" />
            <ellipse cx="90" cy="40" rx="30" ry="18" fill="white" opacity="0.9" />
            <ellipse cx="220" cy="45" rx="40" ry="22" fill="white" opacity="0.9" />
            <path d="M0 200 Q150 100 300 200 Z" fill="#8FB339" />
            <path d="M0 200 Q100 130 200 200 Z" fill="#5C8A2B" />
          </svg>
          <div class="placeholder-label">Event marketing</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Event Grid Section -->
  <section class="events-grid-section">
    <div class="events-grid">
      {events.map((event, index) => (
        <div class="event-card" data-event={JSON.stringify(event)}>
          <div class="event-image">
            <svg
              viewBox="0 0 280 200"
              preserveAspectRatio="xMidYMid slice"
              style="width: 100%; height: 100%;"
            >
              <defs>
                <linearGradient id={`eventSkyGrad-${index}`} x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" stop-color="#D6EEF5" />
                  <stop offset="100%" stop-color="#87CEEB" />
                </linearGradient>
              </defs>
              <rect width="280" height="200" fill={`url(#eventSkyGrad-${index})`} />
              <ellipse cx="50" cy="35" rx="30" ry="18" fill="white" opacity="0.9" />
              <ellipse cx="80" cy="40" rx="25" ry="15" fill="white" opacity="0.9" />
              <ellipse cx="210" cy="40" rx="35" ry="20" fill="white" opacity="0.9" />
              <path d="M0 200 Q140 100 280 200 Z" fill="#8FB339" />
              <path d="M0 200 Q90 130 180 200 Z" fill="#5C8A2B" />
            </svg>
          </div>
          <div class="event-info">
            <h3 class="event-title">{event.title}</h3>
            <p class="event-date">{event.date}</p>
          </div>
        </div>
      ))}
    </div>
    <p class="grid-note">Click card â†’ opens pop-up for smaller events, or routes to event page for larger events (like competitions)</p>
  </section>

  <!-- Event Types Accordion Section -->
  <section class="accordion-section">
    <Accordion items={accordionItems} client:visible />
  </section>

  <!-- Event Request Buttons Section -->
  <section class="request-section">
    <div class="request-buttons">
      <a
        href="https://form.asana.com/?k=event-request"
        target="_blank"
        rel="noopener noreferrer"
        class="request-button"
      >
        EVENT REQUEST FORM
      </a>
      <a
        href="mailto:tully@climbtheknot.com"
        class="request-button"
      >
        CONTACT US
      </a>
    </div>
  </section>

  <!-- Up ENDing Parkinsons Section -->
  <section class="upending-section">
    <div class="upending-container">
      <div class="upending-text">
        <a
          href="https://upendingparkinsons.org"
          target="_blank"
          rel="noopener noreferrer"
          class="upending-link"
        >
          Up ENDing Parkinsons
        </a>
      </div>
      <div class="upending-image">
        <svg
          viewBox="0 0 400 250"
          preserveAspectRatio="xMidYMid slice"
          style="width: 100%; height: 100%;"
        >
          <defs>
            <linearGradient id="upendingSkyGrad" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" stop-color="#D6EEF5" />
              <stop offset="100%" stop-color="#87CEEB" />
            </linearGradient>
          </defs>
          <rect width="400" height="250" fill="url(#upendingSkyGrad)" />
          <ellipse cx="70" cy="40" rx="40" ry="24" fill="white" opacity="0.9" />
          <ellipse cx="110" cy="45" rx="35" ry="20" fill="white" opacity="0.9" />
          <ellipse cx="310" cy="50" rx="45" ry="26" fill="white" opacity="0.9" />
          <path d="M0 250 Q200 100 400 250 Z" fill="#8FB339" />
          <path d="M0 250 Q130 150 260 250 Z" fill="#5C8A2B" />
        </svg>
        <div class="upending-label">UpEnding picture</div>
      </div>
    </div>
  </section>

  <!-- Register Here CTA -->
  <section class="register-cta-section">
    <a
      href="https://portal.climbtheknot.com/gnv/events"
      target="_blank"
      rel="noopener noreferrer"
      class="register-cta-button"
    >
      REGISTER HERE
    </a>
  </section>
</BaseLayout>

<style>
  .hero-section {
    position: relative;
    height: 50vh;
    min-height: 350px;
    overflow: hidden;
  }

  .hero-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }

  .hero-background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: bottom;
  }

  .hero-content {
    position: absolute;
    bottom: 20%;
    right: 10%;
    text-align: right;
  }

  .hero-headline {
    font-family: var(--font-heading);
    font-size: 64px;
    font-weight: 900;
    color: white;
    text-transform: uppercase;
    margin: 0;
    letter-spacing: 2px;
    text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.3);
  }

  .hero-video-placeholder {
    position: absolute;
    top: 15%;
    right: 10%;
  }

  .video-box {
    background: rgba(255, 255, 255, 0.9);
    padding: 20px 30px;
    border: 3px solid var(--color-graphite);
  }

  .video-label {
    font-family: var(--font-body);
    font-size: 14px;
    font-weight: 500;
    color: var(--color-graphite);
    text-transform: uppercase;
  }

  /* Featured Section */
  .featured-section {
    padding: 60px 5%;
    background: var(--color-sand);
  }

  .featured-container {
    display: flex;
    gap: 40px;
    max-width: 1000px;
    margin: 0 auto;
    align-items: center;
  }

  .featured-main {
    flex: 1;
  }

  .featured-button {
    display: inline-block;
    padding: 18px 40px;
    background: var(--color-rust);
    color: white;
    font-family: var(--font-body);
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease;
  }

  .featured-button:hover {
    opacity: 0.9;
  }

  .featured-marketing {
    flex: 1;
  }

  .marketing-placeholder {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    aspect-ratio: 3/2;
  }

  .placeholder-label {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--color-rust);
    padding: 6px 14px;
    border: 3px solid var(--color-graphite);
    font-family: var(--font-body);
    font-size: 11px;
    color: white;
    text-transform: uppercase;
  }

  /* Events Grid Section */
  .events-grid-section {
    padding: 60px 5%;
    background: var(--color-sand);
  }

  .events-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 24px;
    max-width: 1200px;
    margin: 0 auto;
    justify-content: center;
  }

  .event-card {
    flex: 0 0 calc(20% - 20px);
    min-width: 200px;
    max-width: 240px;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .event-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .event-image {
    aspect-ratio: 7/5;
    overflow: hidden;
  }

  .event-info {
    padding: 16px;
    text-align: center;
  }

  .event-title {
    font-family: var(--font-heading);
    font-size: 16px;
    font-weight: 700;
    color: var(--color-graphite);
    margin: 0 0 4px 0;
    text-transform: uppercase;
  }

  .event-date {
    font-family: var(--font-body);
    font-size: 14px;
    color: var(--color-graphite);
    margin: 0;
    opacity: 0.7;
  }

  .grid-note {
    font-family: var(--font-body);
    font-size: 13px;
    color: var(--color-graphite);
    text-align: center;
    margin: 24px 0 0 0;
    opacity: 0.6;
  }

  /* Accordion Section */
  .accordion-section {
    padding: 40px 5%;
    background: white;
  }

  /* Request Buttons Section */
  .request-section {
    padding: 40px 5%;
    background: white;
  }

  .request-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .request-button {
    display: inline-block;
    padding: 16px 32px;
    background: var(--color-rust);
    color: white;
    font-family: var(--font-body);
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease;
    text-align: center;
    min-width: 200px;
  }

  .request-button:hover {
    opacity: 0.9;
  }

  /* Up ENDing Parkinsons Section */
  .upending-section {
    padding: 60px 5%;
    background: white;
  }

  .upending-container {
    display: flex;
    gap: 40px;
    max-width: 1000px;
    margin: 0 auto;
    align-items: center;
  }

  .upending-text {
    flex: 1;
  }

  .upending-link {
    font-family: var(--font-body);
    font-size: 18px;
    font-weight: 400;
    color: var(--color-graphite);
    text-decoration: underline;
    display: block;
    transition: opacity 0.2s ease;
  }

  .upending-link:hover {
    opacity: 0.8;
  }

  .upending-image {
    flex: 1;
    position: relative;
    aspect-ratio: 16/10;
    border-radius: 4px;
    overflow: hidden;
  }

  .upending-label {
    position: absolute;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--color-rust);
    padding: 6px 14px;
    border: 3px solid var(--color-graphite);
    font-family: var(--font-body);
    font-size: 11px;
    color: white;
    text-transform: uppercase;
  }

  /* Register CTA Section */
  .register-cta-section {
    padding: 40px 5%;
    background: white;
    text-align: center;
  }

  .register-cta-button {
    display: inline-block;
    padding: 16px 60px;
    background: var(--color-manatee);
    color: var(--color-graphite);
    font-family: var(--font-body);
    font-size: 16px;
    font-weight: 700;
    text-transform: uppercase;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: opacity 0.2s ease;
  }

  .register-cta-button:hover {
    opacity: 0.9;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .hero-section {
      height: 50vh;
      min-height: 350px;
    }

    .hero-headline {
      font-size: 42px;
    }

    .hero-content {
      bottom: 15%;
      right: 5%;
    }

    .hero-video-placeholder {
      top: 10%;
      right: 5%;
    }

    .video-box {
      padding: 16px 20px;
    }

    .featured-section {
      padding: 40px 5%;
    }

    .featured-container {
      flex-direction: column;
      gap: 24px;
    }

    .featured-button {
      width: 100%;
      text-align: center;
    }

    .events-grid-section {
      padding: 40px 5%;
    }

    .events-grid {
      flex-direction: column;
      align-items: center;
    }

    .event-card {
      flex: 0 0 100%;
      width: 100%;
      max-width: 300px;
    }

    .grid-note {
      display: none;
    }

    .accordion-section {
      padding: 30px 5%;
    }

    .request-section {
      padding: 30px 5%;
    }

    .request-buttons {
      flex-direction: column;
      gap: 16px;
    }

    .request-button {
      width: 100%;
      min-width: unset;
    }

    .upending-section {
      padding: 40px 5%;
    }

    .upending-container {
      flex-direction: column;
      gap: 24px;
    }

    .upending-link {
      font-size: 16px;
      text-align: center;
    }

    .register-cta-section {
      padding: 40px 5%;
    }

    .register-cta-button {
      width: 100%;
      padding: 18px 40px;
      font-size: 16px;
    }
  }
</style>
